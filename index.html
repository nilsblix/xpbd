<!-- In src: "_" in the file name means that no real data is stored there. The file is simply a helper "interface" -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>xpbd</title>
    <link rel="stylesheet" href="./src/dear-imgui/style.css">
    <style>
        @font-face {
            font-family: "basis33";
            src: url("./assets/basis33.ttf") format("truetype");
        }

        @font-face {
            font-family: "QuinqueFive";
            src: url("./assets/QuinqueFive.ttf") format("truetype");
        }

        body {
            background-color: rgb(36, 36, 47);
            overflow: hidden;
        }

        #engine {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 1px solid white;
            /* width: 99vw;
            height: 99vh; */
        }

        #paused {
            position: absolute;
            display: block;

            right: 20px;
            top: 20px;

            font-family: basis33;
            color: white;
            font-size: 4rem;

            text-align: center;
            pointer-events: none;
        }

    </style>
</head>
<body>
    <canvas id="engine"></canvas>

    <div class="top-left-label">[q][a][z][e]</div>

    <div id="paused">*paused</div>
    <script>document.getElementById("paused").style.display = "block";</script>

    <div id="settings-window" class="gui-window" style="width: 300px">
        <div id="settings-header" class="gui-header">
            &nbsp;// PHYSICS SETTINGS
            <span id="settings-close-button" class="gui-header-close-button">x</span>
        </div>

        <p class="gui-primary-header">"Name, default value, [unit]"</p>

        <div class="gui-grid-label">
            <div class="gui-column">
                <p class="gui-split-label-left">Gravity, 9.82</p>
                <p class="gui-split-label-right">[m / s^2]</p>
            </div>
        </div>
        <div class="gui-slider-container">
            <input id="settings-gravity-slider" class="gui-slider" type="range" min="-10" max="10" step="0.1" value="9.82">
            <div id="settings-gravity-value" class="gui-slider-label">9.82</div>
        </div>

        <div class="gui-grid-label">
            <div class="gui-column">
                <p class="gui-split-label-left">Energy Damping, &nbsp; 0.0</p>
                <p class="gui-split-label-right">[]</p>
            </div>
        </div>
        <div class="gui-slider-container">
            <input id="settings-energy-damping-slider" class="gui-slider" type="range" min="0" max="2" step="0.01" value="0">
            <div id="settings-energy-damping-value" class="gui-slider-label">0</div>
        </div>

        <div class="gui-grid-label">
            <div class="gui-column">
                <p class="gui-split-label-left">Spring Joint Stiffness (k), 20</p>
                <p class="gui-split-label-right">[N / m^2]</p>
            </div>
        </div>
        <div class="gui-slider-container">
            <input id="settings-spring-joint-stiffness-slider" class="gui-slider" type="range" min="0" max="100" step="0.5" value="20">
            <div id="settings-spring-joint-stiffness-value" class="gui-slider-label">20</div>
        </div>

        <div class="gui-grid-label">
            <div class="gui-column">
                <p class="gui-split-label-left">Mouse Spring Stiffness (k), 20</p>
                <p class="gui-split-label-right">[N / m^2]</p>
            </div>
        </div>
        <div class="gui-slider-container">
            <input id="settings-mouse-spring-stiffness-slider" class="gui-slider" type="range" min="0" max="150" step="0.5" value="20">
            <div id="settings-mouse-spring-stiffness-value" class="gui-slider-label">20</div>
        </div>

    </div>

    <div id="profiling-window" class="gui-window" style="width: 300px">
        <div id="profiling-header" class="gui-header">
            &nbsp;// PROFILING
            <span id="profiling-close-button" class="gui-header-close-button">x</span>
        </div>

        <div class="gui-label">
            <p> DT = <span id="profiling-dt">-1</span> ms</p>
            <p> PDT = <span id="profiling-pdt">-1</span> ms</p>
            <p> RDT = <span id="profiling-rdt">-1</span> ms</p>
            <p> Energy = <span id="profiling-energy">-1</span> J</p>
            <p> C-Eval = <span id="profiling-c-eval">-1</span></p>
        </div>

    </div>

    <div id="info-window" class="gui-window" style="width: 300px">
        <div id="info-header" class="gui-header">
            &nbsp;// INFO
            <span id="info-close-button" class="gui-header-close-button">x</span>
        </div>

        <div class="gui-label">
            <p> FR = <span id="info-framerate">-1</span> Hz</p>
            <p> SR = <span id="info-simrate">-1</span> Hz</p>
        </div>

        <div class="gui-grid-label">
            <div class="gui-column">
                <p class="gui-split-label-left">Sub Steps</p>
                <p class="gui-split-label-right">Less steps => More energy loss</p>
            </div>
        </div>
        <div class="gui-slider-container">
            <input id="info-sub-steps-slider" class="gui-slider" type="range" min="1" max="20" step="1" value="10">
            <div id="info-sub-steps-value" class="gui-slider-label">10</div>
        </div>
    </div>

    <div id="editor-window" class="gui-window" style="width: 300px">
        <div id="editor-header" class="gui-header">
            &nbsp;// EDITOR
            <span id="editor-close-button" class="gui-header-close-button">x</span>
        </div>

        <div class="gui-label">
            <p>Active: <span id="editor-active">FALSE</span></p>
        </div>

        <p class="gui-primary-header">Spawner settings</p>
        <div class="gui-grid-label">
            <div class="gui-column">
                <p class="gui-split-label-left">Rigidbody type</p>
                <p class="gui-split-label-right">1 => Disc, 2 => Rect</p>
            </div>
        </div>
        <div class="gui-slider-container">
            <input id="editor-rigidbody-type-slider" class="gui-slider" type="range" min="1" max="2" step="1" value="1">
            <div id="editor-rigidbody-type-value" class="gui-slider-label">1</div>
        </div>

        <div class="gui-label">
            <p>Joint type: <span id="editor-joint-type">Spring</span></p>
        </div>

        <!-- <div class="gui-grid-label">
            <div class="gui-column">
                <p class="gui-split-label-left">Joint type</p>
                <p class="gui-split-label-right">1...4</p>
            </div>
        </div>
        <div class="gui-slider-container">
            <input id="editor-joint-type-slider" class="gui-slider" type="range" min="1" max="4" step="1" value="1">
            <div id="editor-joint-type-value" class="gui-slider-label">1</div>
        </div> -->

        <div class="gui-grid-label">
            <div class="gui-column">
                <p class="gui-split-label-left">Constraint Compliance</p>
                <p class="gui-split-label-right">0.0 => Infinite stiffness (default)</p>
            </div>
        </div>
        <div class="gui-slider-container">
            <input id="editor-constraint-compliance-slider" class="gui-slider" type="range" min="0" max="0.05" step="0.001" value="0">
            <div id="editor-constraint-compliance-value" class="gui-slider-label">0</div>
        </div>
        
        <p class="gui-primary-header">Rigidbody settings</p>
        <div class="gui-grid-label">
            <div class="gui-column">
                <p class="gui-split-label-left">Mass</p>
                <p class="gui-split-label-right">[kg]</p>
            </div>
        </div>
        <div class="gui-slider-container">
            <input id="editor-mass-slider" class="gui-slider" type="range" min="0.1" max="60" step="0.1" value="1">
            <div id="editor-mass-value" class="gui-slider-label">1</div>
        </div>

    </div>

    <script src="./src/main.js" type="module"></script>
</body>
</html>